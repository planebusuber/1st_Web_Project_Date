<!DOCTYPE html>
{% load static %}
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>{% block head_title %}오늘, 여기 어때?{% endblock %}</title>
    <!-- bootstrap -->
    <link href="{% static 'date/bootstrap/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
    <!-- fontawesome -->
    <script src = "https://kitfontawesome.com/539842d0c4.js" crossorigin="anonymous"></script>
    <!-- 홈페이지 전체 폰트 적용 -->
    <link href="{% static 'style.css' %}" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
</head>
<body>
    {% include "date/navbar.html" %}
    <!-- Search widget-->
    <div class="card mb-4">
            <div class="card-body">
                <div class="input-group">
                    <input class="form-control" type="text" placeholder="어디로 갈까요 ?"
                           aria-label="Enter search term..." aria-describedby="button-search"
                           id="search-input" />
                    <button class="btn btn-primary" style= "background-color:#FC4C64;" id="button-search" type="button" onclick="searchPost()">
                        놀러가기
                    </button>
            </div>
        </div>
    </div>

    <div class="row d-flex justify-content-center">

        <div class="col-2">
            <span class="badge badge-pill badge-primary"><a style="text-decoration: none;" href="/place/cafe/">카페</a></span>
        </div>
        <div class="col-2">
            <span class="badge badge-pill badge-primary"><a style="text-decoration: none;" href="/place/rest/">식당</a></span>
        </div>
        <div class="col-2">
            <span class="badge badge-pill badge-primary"><a style="text-decoration: none;" href="/place/place/">관광지</a></span>
        </div>

    </div>
    <br/>

    <div class="container d-flex justify-content-center">
        <div class="container">
            {%for cafe in cafe_list%}
                <div class="card">
                    <div class="card-header">
                        {{cafe.cafe_name}}
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-center">
                            <img class="" src="/static/date/imgs/cafe_img/{{cafe.cafe_img}}.jpg" alt="{{cafe.cafe_img}}"width="300">
                        </div>

                        <h5>주소</h5> <p>{{cafe.cafe_addr}}</p>
                        <h5>대표메뉴</h5> <p>{{cafe.cafe_menu}}</p>
                        <h5>영업시간</h5> <p>{{cafe.cafe_time}}</p>
                        <h5>상세설명</h5> <p>{{cafe.cafe_detail}}</p>
                    </div>
                </div>
            {%endfor%}

            {%for rest in rest_list%}
                <div class="card">
                    <div class="card-header">
                        {{rest.cafe_name}}
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-center">
                            <img class="" src="/static/date/imgs/rest_img/{{rest.rest_img}}.jpg" alt="{{rest.rest_img}}"width="300">
                        </div>
                        <h5>주소</h5> <p>{{rest.rest_addr}}</p>
                        <h5>대표메뉴</h5> <p>{{rest.rest_menu}}</p>
                        <h5>영업시간</h5> <p>{{rest.rest_time}}</p>
                        <h5>상세설명</h5> <p>{{rest.rest_detail}}</p>
                    </div>
                </div>
            {%endfor%}

            {%for place in place_list%}
                <div class="card">
                    <div class="card-header">
                        {{place.place_name}}
                    </div>
                    <div class="card-body">
                        <img src="/static/date/imgs/place_img/{{place.place_img}}.jpg" alt="{{place.place_img}}"width="300">
                        <h5>주소</h5> <p>{{place.place_addr}}</p>
                        <h5>영업시간</h5> <p>{{place.place_time}}</p>
                        <h5>상세설명</h5> <p>{{place.place_detail}}</p>
                    </div>
                </div>
            {%endfor%}
        </div>

    </div>

    <!-- 검색 스크립트 -->
    <script>
        function searchPost(){
            let searchValue = document.getElementById('search-input').value.trim();
            if(searchValue.length > 1){
                location.href="/review/search/" + searchValue + "/";
            }
            else{
                alert('검색어('+ searchValue +')가 너무 짧습니다.');
            }
        };
        document.getElementById('search-input').addEventListener('keyup', function(event){
            if(event.key == 'Enter'){
                searchPost();
            }
        });
    </script>

    <!-- 부트스트랩 사용을 위한 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>

</body>
</html>